<!DOCTYPE html>
<html>
<head>
    <title>ALICE Survival Budget</title>

    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">

    // Load the Visualization API and the corechart package.
      google.charts.load('current', {'packages':['corechart']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(drawChart);

      // Callback that creates and populates a data table,
      // instantiates the pie chart, passes in the data and
      // draws it.
      function drawChart() {

        var data = new google.visualization.DataTable();
            data.addColumn('string','Name');
            data.addColumn('number','Cost');
            data.addColumn({type: 'string', role: 'tooltip'});
            data.addRows([
            ["Housing", 689, 'Monthly Housing: $689'],
            ["Food", 169, 'Monthly Food: $169'],
            ["Transportation", 316, 'Monthly Transportation: $316'],
            ["Healthcare", 170, 'Monthly Transportation: $170'],
            ["Miscellaneous", 169, 'Miscellaneous: $169'],
            ["Taxes", 343, 'Taxes: $343']
            ]);

        // Set chart options
        var options = {
                       width:600,
                       height:600,
                       // title:'Monthly survival budget for a single person',
                       legend: 'none',
                       colors: ["#772057","#e1749e","#f2682a","#c9177d","#881c55","#f79b8b"],
                       pieSliceText: 'none',
                    // Important to make a donut chart
                       pieHole: 0.6,
                };

        // For placing icons
        function placeMarker(dataTable){
            var cli = this.getChartLayoutInterface();
            var chartArea = cli.getChartAreaBoundingBox();

            document.querySelector('.house').style.top = Math.floor(cli.getYLocation(dataTable.getValue(5,1))) - 50 + "px";
            document.querySelector('.house').style.left = Math.floor(cli.getXLocation(5)) - 10 + "px";
        };


        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.PieChart(document.getElementById('budget_person'));
      google.visualization.events.addListener(chart, 'ready',
        placeMarker.bind(chart, data));
      chart.draw(data, options);
      };

    </script>

    <link rel="stylesheet" type="text/css" href="animations.css">
    <link rel="stylesheet" type="text/css" href="monthlySurvival.css">

    <link href="https://fonts.googleapis.com/css?family=Montserrat|Oswald|Roboto|Roboto+Condensed|Rubik" rel="stylesheet">

</head>

<body>
    <h1><span class="sectionTitle">ALICE SURVIVAL BUDGET</span></h1>

    <div class="house">
    <img src="icons/house.svg" height="50">
    </div>

<!--     <div class="childcare">
    <img src="icons/childcare.svg" height="50">
    </div>

    <div class="food">
    <img src="icons/food.svg" height="50">
    </div>

    <div class="healthcare">
    <img src="icons/healthcare.svg" height="50">
    </div>

    <div class="transportation">
    <img src="icons/transportation.svg" height="50">
    </div> -->

    <div id="budget_person"></div>

</body>
</html>